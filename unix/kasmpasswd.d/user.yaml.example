# Example Per-User DLP (Data Loss Prevention) Configuration
#
# This file demonstrates how to configure DLP settings for individual users.
# Copy this file to:
#   ~/.kasmpasswd.d/username.yaml  (for user-specific settings)
#
# Configuration precedence:
#   1. Per-user YAML: ~/.kasmpasswd.d/username.yaml
#   2. Global server parameters: -DLP_Region, -DLP_ClipSendMax, etc.
#   3. Hardcoded defaults (all DLP features disabled)
#
# To reload configuration without disconnecting users:
#   kasmvncpasswd -c

# KasmVNC Per-User Configuration Example
# Place this file at: ~/.kasmpasswd.d/<username>.yaml
#
# All settings are optional. If not specified, global server defaults are used.
# Only configurations shown here are supported per-user.
# Data Loss Prevention (DLP) settings
data_loss_prevention:

  # Visible region - restrict what area of the screen the user can see
  # Coordinates can be absolute pixels or percentages (with % suffix)
  visible_region:
    left: "100"
    top: "100"
    right: "-100"       # 0 means no restriction on that edge
    bottom: "-100"

    # Controls for the concealed (blacked-out) region
    concealed_region:
      allow_click_down: false      # Allow mouse clicks in the hidden area
      allow_click_release: true    # Allow mouse releases in the hidden area

  # Keyboard settings under DLP
  keyboard:
    enabled: true                  # Enable/disable keyboard input
    rate_limit: 0                  # Max key events per second (0 = unlimited)

  # Clipboard settings
  clipboard:
    server_to_client:
      size: 0                      # Max bytes to send to client (0 = unlimited)
    client_to_server:
      size: 0                      # Max bytes to accept from client (0 = unlimited)
    delay_between_operations: 0    # Milliseconds between clipboard operations

# Keyboard remapping
keyboard:
  # Remap keys - can be a comma-separated string or YAML array
  # Format: "fromKeysym->toKeysym" (hex values without 0x prefix)
  remap_keys:
    - "0x61->0x62"    # Example: remap a to b
    - "0x62->0x62"
    - "0x63->0x63"
    - "0x64->0x64"
    - "0x65->0x65"
  allow_only_keys_in_remap: true  # If true, block keys not in remap list

# Pointer/mouse settings
pointer:
  enabled: true                    # Enable/disable pointer input
  allow_left_click: true           # Allow left mouse button
  allow_middle_click: false         # Allow middle mouse button
  allow_right_click: true          # Allow right mouse button
  allow_scroll: false               # Allow scroll wheel
  allow_other_buttons: false        # Allow extended mouse buttons (6+)

# User session settings
# Controls how this user's connections interact with other clients.
# Server will respect global setting security before user's, specified or not.
user_session:
  # session_type: shared             # "shared" or "exclusive" (exclusive = never shared)
  new_session_disconnects_existing_exclusive_session: false

